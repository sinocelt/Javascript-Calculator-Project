function continueString(r){currentUserString+=String(r),document.getElementById("displayArea").innerHTML=currentUserString}function resetCurrentString(){currentUserString="",document.getElementById("displayArea").innerHTML="0"}function undoPrevious(){var r=new RegExp(".$","g");currentUserString=currentUserString.replace(r,""),document.getElementById("displayArea").innerHTML=currentUserString}function fixString(r){var e=r;if(e.indexOf("--")!==-1){var t=new RegExp("--","g");e=e.replace(t,"+")}if(e.indexOf("++")!==-1){var a=new RegExp("\\+\\+","g");e=e.replace(a,"+")}if(e.indexOf("-+")!==-1){var n=new RegExp("-\\+","g");e=e.replace(n,"-")}if(e.indexOf("+-")!==-1){var A=new RegExp("\\+-","g");e=e.replace(A,"-")}if(e.indexOf("^-")!==-1){var i=new RegExp("\\^-","g");e=e.replace(i,"SPECIALCASEAAA")}if(e.indexOf("π")!==-1){var p=new RegExp("π","g");e=e.replace(p,Math.PI)}if(e.indexOf("*-")!==-1){var c=new RegExp("\\*-","g");e=e.replace(c,"SPECIALCASEBBB")}if(e.indexOf("^")!==-1){for(var f=e.split(""),o=0;o<f.length;o++)"^"==f[o]&&f[o-2]&&"-"==f[o-2]&&(f[o-2]="SPECIALCASECCC");e=f.join("");var l=new RegExp("\\^","g");e=e.replace(l," ^ ")}if(e.indexOf("*")!==-1){var s=new RegExp("\\*","g");e=e.replace(s," * ")}if(e.indexOf("/")!==-1){var g=new RegExp("/","g");e=e.replace(g," * 1/")}if(e.indexOf("+")!==-1){var u=new RegExp("\\+","g");e=e.replace(u," + ")}if(e.indexOf("-")!==-1){var m=new RegExp("-","g");e=e.replace(m," + -1 * ")}if(e.indexOf("SPECIALCASEAAA")!==-1){var h=new RegExp("SPECIALCASEAAA","g");e=e.replace(h," ^ -")}if(e.indexOf("SPECIALCASEBBB")!==-1){var w=new RegExp("SPECIALCASEBBB","g");e=e.replace(w," * -1 * ")}if(e.indexOf("SPECIALCASECCC")!==-1){var x=new RegExp("SPECIALCASECCC","g");e=e.replace(x," + -1 * ")}if(e.indexOf("(")!==-1){var v=new RegExp("\\(","g");e=e.replace(v,"( ")}if(e.indexOf(")")!==-1){var d=new RegExp("\\)","g");e=e.replace(d," )")}for(var y=0;y<e.length;y++);var S=e.split("");return 1==function(r,e){if(r.length!=e.length)return!1;for(var t=!0,a=0;a<r.length;a++)r[a]!==e[a]&&(t=!1);return t}(S.slice(0,3),[" ","+"," "])&&S.splice(0,3),e=S.join(""),e.split(" ")}function parseMult(arr){function subParseStuff(otherArr){if(0==otherArr.length)return 0;if(1==otherArr.length)return otherArr[0];for(;otherArr.indexOf("(")!==-1;){var tempLeftA=otherArr.lastIndexOf("("),tempRightA=otherArr.indexOf(")");return subParseStuff(otherArr.slice(0,tempLeftA))+subParseStuff(otherArr.slice(tempLeftA+1,tempRightA))+subParseStuff(otherArr.slice(tempRightA+1,otherArr.length))}for(;otherArr.indexOf("^")!==-1;){var tempA=otherArr.lastIndexOf("^");if(eval(otherArr[tempA-1])<0){var expOfNumsArray=[eval(-1*Math.pow(eval(otherArr[tempA-1]*-1),eval(otherArr[tempA+1])))];return subParseStuff(otherArr.slice(0,tempA-1).concat(expOfNumsArray.concat(otherArr.slice(tempA+2,otherArr.length))))}var expOfNumsArray=[eval(Math.pow(eval(otherArr[tempA-1]),eval(otherArr[tempA+1])))];return subParseStuff(otherArr.slice(0,tempA-1).concat(expOfNumsArray.concat(otherArr.slice(tempA+2,otherArr.length))))}for(;otherArr.indexOf("*")!==-1;){var tempA=otherArr.indexOf("*"),multOfNumsArray=[eval(otherArr[tempA-1])*eval(otherArr[tempA+1])];return subParseStuff(otherArr.slice(0,tempA-1).concat(multOfNumsArray.concat(otherArr.slice(tempA+2,otherArr.length))))}for(;otherArr.indexOf("+")!==-1;){var tempA=otherArr.indexOf("+"),sumOfAdditionArray=[parseFloat(otherArr[tempA-1])+parseFloat(otherArr[tempA+1])];return subParseStuff(otherArr.slice(0,tempA-1))+subParseStuff(sumOfAdditionArray.concat(otherArr.slice(tempA+2,otherArr.length)))}}for(;arr.indexOf("(")!==-1;){var tempLeft=arr.lastIndexOf("("),tempRight=arr.indexOf(")"),newArray=[];newArray=newArray.concat(arr.slice(0,tempLeft)),newArray=newArray.concat(subParseStuff(arr.slice(tempLeft+1,tempRight))),newArray=newArray.concat(arr.slice(tempRight+1,arr.length)),arr=newArray}for(;arr.indexOf("^")!==-1;){var temp=arr.lastIndexOf("^"),newArray=[];newArray=newArray.concat(arr.slice(0,temp-1)),eval(arr[temp-1])<0?(newArray=newArray.concat(eval(-1*Math.pow(eval(arr[temp-1]*-1),eval(arr[temp+1])))),newArray=newArray.concat(arr.slice(temp+2,arr.length))):(newArray=newArray.concat(Math.pow(eval(arr[temp-1]),eval(arr[temp+1]))),newArray=newArray.concat(arr.slice(temp+2,arr.length))),arr=newArray}for(;arr.indexOf("*")!==-1;){var temp=arr.indexOf("*"),newArray=[];newArray=newArray.concat(arr.slice(0,temp-1)),newArray=newArray.concat(eval(arr[temp-1])*eval(arr[temp+1])),newArray=newArray.concat(arr.slice(temp+2,arr.length)),arr=newArray}for(;arr.indexOf("+")!==-1;){var temp=arr.indexOf("+"),newArray=[];newArray=newArray.concat(arr.slice(0,temp-1)),newArray=newArray.concat(parseFloat(arr[temp-1])+parseFloat(arr[temp+1])),newArray=newArray.concat(arr.slice(temp+2,arr.length)),arr=newArray}currentUserString=arr.join(""),currentUserString=cutStringLength(currentUserString),document.getElementById("displayArea").innerHTML=currentUserString}function cutStringLength(str){if(str.length>=17)if(eval(str)>=Math.pow(10,16)){var strAsNum=eval(str),numInScientificNotation=strAsNum.toExponential(10);str=numInScientificNotation.toString()}else if(eval(str)<Math.pow(10,16)){tempA=str.split(""),splicedArray=[];for(var a=0;a<16;a++)splicedArray.push(tempA[a]);str=splicedArray.join("")}return str}var currentUserString="";